import axios from "axios";
import { useQuery } from "@tanstack/react-query";

export const useFetchFormioForm = (formSchema: string) => {
    return useQuery({
        queryKey: ["formio/form", formSchema],
        queryFn: async () => {
            const token =
                "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJuTmxiY2Q1a3dxdnBXNGRDMUFWcnZ6MFVxdEhLYnRNblQ4blBpOVJTYVpBIn0.eyJleHAiOjE3NTM2MjMzMTMsImlhdCI6MTc1MzYxOTcxMywiYXV0aF90aW1lIjoxNzUzNjA1NjY2LCJqdGkiOiI2YjFjMTMyNC1kM2I2LTQxNTUtOGQ4My1iMzU3NzAyZjM5MGUiLCJpc3MiOiJodHRwczovL3Nzby1kZXYuaWlzLXNzYi5jb206ODA4MC9yZWFsbXMvaWlzLXNzYi1hcHBsaWNhbnQiLCJhdWQiOlsidGFza2xpc3QtYXBpIiwicmVhbG0tbWFuYWdlbWVudCIsInplZWJlLWFwaSIsImJyb2tlciIsImFjY291bnQiXSwic3ViIjoiNDQ4MzkxYTktMzg1MS00ZDI5LTkxMTItM2ZiZWIwMWZkOGQzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiQXBwbGljYW50UG9ydGFsIiwibm9uY2UiOiJiZGJhNzhjMS0zZWYyLTRiZDAtYmIwYi05YjQxYWU0OTJhYmMiLCJzZXNzaW9uX3N0YXRlIjoiNzFmZDMyMGUtNWQ1Yi00OTAzLTgyM2UtZDY5ODE0ZGVmZDMwIiwiYWNyIjoiMCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL2FvdW5wb3J0YWwtZGV2Lmlpcy1zc2IuY29tIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJUYXNrbGlzdCIsIm9mZmxpbmVfYWNjZXNzIiwiZGVmYXVsdC1yb2xlcy1paXMtc3NiLWFwcGxpY2FudCIsInVtYV9hdXRob3JpemF0aW9uIiwiWmVlYmUiXX0sInJlc291cmNlX2FjY2VzcyI6eyJ0YXNrbGlzdC1hcGkiOnsicm9sZXMiOlsicmVhZDoqIiwid3JpdGU6KiJdfSwicmVhbG0tbWFuYWdlbWVudCI6eyJyb2xlcyI6WyJtYW5hZ2UtaWRlbnRpdHktcHJvdmlkZXJzIiwibWFuYWdlLXVzZXJzIl19LCJ6ZWViZS1hcGkiOnsicm9sZXMiOlsid3JpdGU6KiJdfSwiYnJva2VyIjp7InJvbGVzIjpbInJlYWQtdG9rZW4iXX0sImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJ2aWV3LWFwcGxpY2F0aW9ucyIsInZpZXctY29uc2VudCIsInZpZXctZ3JvdXBzIiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJkZWxldGUtYWNjb3VudCIsIm1hbmFnZS1jb25zZW50Iiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgYmVuZWZpdC1hcHBsaWNhdGlvbjphcHBseSBpc3ItcmVjb3JkLW1hbmFnZW1lbnQ6dmlldyBiZW5lZml0LWFwcGxpY2F0aW9uOnZpZXcgZW1haWwgYmVuZWZpdC1hcHBsaWNhdGlvbjp2YWxpZGF0ZSBpc3ItcmVjb3JkLXJlcXVlc3Q6bWFuYWdlIHByb2ZpbGUgaWJyLWRhdGE6dmlldyIsInNpZCI6IjcxZmQzMjBlLTVkNWItNDkwMy04MjNlLWQ2OTgxNGRlZmQzMCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYXRpb25hbElkIjoiMTIzNDU2Nzg5MCIsImRvYiI6IjIwMDAtMDktMTIiLCJtb2JpbGVOdW1iZXIiOiIxMTI1NzY1MTI2NSIsInBlcm1pc3Npb25zIjp7InRhc2tsaXN0LWFwaSI6WyJyZWFkOioiLCJ3cml0ZToqIl0sInJlYWxtLW1hbmFnZW1lbnQiOlsibWFuYWdlLWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS11c2VycyJdLCJ6ZWViZS1hcGkiOlsid3JpdGU6KiJdLCJicm9rZXIiOlsicmVhZC10b2tlbiJdLCJhY2NvdW50IjpbIm1hbmFnZS1hY2NvdW50Iiwidmlldy1hcHBsaWNhdGlvbnMiLCJ2aWV3LWNvbnNlbnQiLCJ2aWV3LWdyb3VwcyIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwiZGVsZXRlLWFjY291bnQiLCJtYW5hZ2UtY29uc2VudCIsInZpZXctcHJvZmlsZSJdfSwibmFtZSI6IlN5c3RlbV91c2VyMSIsImdyb3VwcyI6WyJQdWJsaWMgV29ya2Zsb3cgR3JvdXAiXSwicHJlZmVycmVkX3VzZXJuYW1lIjoiMTIzNDU2Nzg5MCIsImxvY2FsZSI6ImFyIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbV91c2VyMSIsImVtYWlsIjoiMTIzNDU2Nzg5MEBnbWFpbC5jb20ifQ.rfkZwZVJQ4CV2IcWGbKN-n-IVIg-Q4AK42bbyCcsunc6t8DOPDaGWlsOMuHOP54lv5Q0G7XKNQXeiP3FV9XFQcqCcWwmVaMzNZaORN-_gRxArV-VbD50v49vLy0RAWRaL1la1i9uZA-N5a-hKEMzFN9AVu3cFQR5yrQc_zV8p-wpuyv8jyBHOdK3LrrElnVcFuALMT_oHtWVmG5jX-geqaOlmM9tdhCd0IX7_ArOmeUjWOmmfnjyIC0L86lE4hFmh8_3CzatxZ8d3ddxvWy5krIOTJEYGEVkhdCUACHu9HwfF2v_vWbOx9eWMVzb80qvgAp7yqQc1d3x8pbokgTNew";
            const response = await axios.get(`https://gw.iis-ssb.com:8243/formioAdapter/v1/${formSchema}`, {
                headers: {
                    Authorization: `Bearer ${token}`,
                },
            });
            return response.data;
        },
        enabled: !!formSchema,
    });
};
